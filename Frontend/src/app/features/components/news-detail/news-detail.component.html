<section class="news-detail py-5">
  <div class="container">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center my-5">
      <div class="spinner-border text-danger" role="status">
        <span class="visually-hidden">Đang tải...</span>
      </div>
    </div>

    <!-- News Content -->
    <div *ngIf="!isLoading && news" class="row">
      <div class="col-lg-10 mx-auto">
        <!-- Back Button -->
        <button class="btn-back mb-4" (click)="goBack()">
          <i class="pi pi-arrow-left"></i> Quay lại
        </button>

        <!-- News Article -->
        <article class="news-article">
          <!-- Headline -->
          <h1 class="news-headline">{{ news.title }}</h1>
          
          <!-- Lead Paragraph -->
          <p *ngIf="news.summary" class="news-lead">{{ news.summary }}</p>
          
          <!-- Content -->
          <div class="news-content" [innerHTML]="getSafeHtml(news.content)">
          </div>
        </article>
      </div>
    </div>

    <!-- Related News -->
    <div *ngIf="!isLoading && relatedNews.length > 0" class="row mt-5">
      <div class="col-12">
        <h3 class="mb-4">Bài viết liên quan</h3>
      </div>
      <div *ngFor="let relNews of relatedNews" class="col-md-4 mb-4">
        <div class="card h-100" style="cursor: pointer;" (click)="viewRelatedNews(relNews.id)">
          <img [src]="getImageUrl(relNews.featured_image)" 
               [alt]="relNews.title" 
               class="card-img-top"
               style="height: 200px; object-fit: cover;">
          <div class="card-body">
            <h5 class="card-title">{{ relNews.title }}</h5>
            <p class="card-text text-muted">
              {{ relNews.summary ? relNews.summary.substring(0, 100) : '' }}{{ relNews.summary && relNews.summary.length > 100 ? '...' : '' }}
            </p>
            <small class="text-muted">
              <i class="pi pi-eye"></i> {{ relNews.views }} lượt xem
            </small>
          </div>
        </div>
      </div>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && !news" class="text-center my-5">
      <h3>Không tìm thấy bài viết</h3>
      <button class="btn btn-danger mt-3" (click)="goBack()">Quay lại danh sách tin tức</button>
    </div>
  </div>
</section>

