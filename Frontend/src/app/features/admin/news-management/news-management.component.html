<div class="news-management">
  <div class="page-header">
    <h1 class="page-title">ğŸ“° Quáº£n lÃ½ tin tá»©c</h1>
    <button class="btn btn-primary" (click)="openAddModal()">
      <span>â•</span> ThÃªm tin tá»©c
    </button>
  </div>

  <!-- Filters -->
  <div class="filters-section">
    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="searchKeyword"
        (keyup.enter)="searchNews()"
        placeholder="TÃ¬m kiáº¿m tin tá»©c..."
        class="search-input"
      />
      <button class="btn btn-secondary" (click)="searchNews()">
        ğŸ” TÃ¬m kiáº¿m
      </button>
    </div>

    <div class="filter-box">
      <select [(ngModel)]="selectedStatus" (change)="filterByStatus()" class="filter-select">
        <option value="">Táº¥t cáº£ tráº¡ng thÃ¡i</option>
        <option value="ACTIVE">Äang hoáº¡t Ä‘á»™ng</option>
        <option value="INACTIVE">KhÃ´ng hoáº¡t Ä‘á»™ng</option>
      </select>
    </div>
  </div>

  <!-- News Table -->
  <div class="table-container">
    <table class="data-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>TiÃªu Ä‘á»</th>
          <th>Tráº¡ng thÃ¡i</th>
          <th>NgÃ y táº¡o</th>
          <th>Thao tÃ¡c</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let news of filteredNews">
          <td>{{ news.id }}</td>
          <td>{{ news.title }}</td>
          <td>
            <span class="status-badge" [class.active]="news.status === 'ACTIVE'">
              {{ news.status === 'ACTIVE' ? 'Äang hoáº¡t Ä‘á»™ng' : 'KhÃ´ng hoáº¡t Ä‘á»™ng' }}
            </span>
          </td>
          <td>{{ formatDate(news.created_at) }}</td>
          <td>
            <div class="action-buttons">
              <button class="btn btn-edit" (click)="openEditModal(news)">âœï¸</button>
              <button class="btn btn-delete" (click)="deleteNews(news)">ğŸ—‘ï¸</button>
            </div>
          </td>
        </tr>
        <tr *ngIf="filteredNews.length === 0">
          <td colspan="5" class="no-data">KhÃ´ng cÃ³ tin tá»©c nÃ o</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="pagination" *ngIf="totalPages > 1">
    <button class="btn btn-page" [disabled]="currentPage === 1" (click)="goToPage(currentPage - 1)">â€¹ TrÆ°á»›c</button>
    <button *ngFor="let page of pages" class="btn btn-page" [class.active]="currentPage === page" (click)="goToPage(page)">{{ page }}</button>
    <button class="btn btn-page" [disabled]="currentPage === totalPages" (click)="goToPage(currentPage + 1)">Sau â€º</button>
  </div>
</div>

<!-- Modal -->
<div class="modal-overlay" *ngIf="showModal" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ isEditing ? 'Sá»­a tin tá»©c' : 'ThÃªm tin tá»©c má»›i' }}</h2>
      <button class="close-btn" (click)="closeModal()">âœ•</button>
    </div>

    <form class="modal-body">
      <div class="form-group">
        <label>TiÃªu Ä‘á» *</label>
        <input type="text" [(ngModel)]="currentNews.title" name="title" class="form-control" placeholder="Nháº­p tiÃªu Ä‘á»" />
      </div>

      <div class="form-group">
        <label>Ná»™i dung *</label>
        <textarea [(ngModel)]="currentNews.content" name="content" class="form-control" rows="6" placeholder="Nháº­p ná»™i dung"></textarea>
      </div>

      <div class="form-group">
        <label>URL HÃ¬nh áº£nh</label>
        <input type="text" [(ngModel)]="currentNews.image_url" name="image_url" class="form-control" placeholder="https://example.com/image.jpg" />
      </div>

      <div class="form-group">
        <label>Tráº¡ng thÃ¡i</label>
        <select [(ngModel)]="currentNews.status" name="status" class="form-control">
          <option value="ACTIVE">Äang hoáº¡t Ä‘á»™ng</option>
          <option value="INACTIVE">KhÃ´ng hoáº¡t Ä‘á»™ng</option>
        </select>
      </div>
    </form>

    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="closeModal()">Há»§y</button>
      <button class="btn btn-primary" (click)="saveNews()">{{ isEditing ? 'Cáº­p nháº­t' : 'ThÃªm má»›i' }}</button>
    </div>
  </div>
</div>

